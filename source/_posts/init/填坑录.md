---
title: 填坑录
data: '2022-8-1 00:27:23'
sticky: 1
swiper_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前
tags: web
categories: 说明书
abbrlink: 16106
keywords: 张卓如,web,前端
---
# 可园填坑回忆录

## vue中点击不可用,一般都是自带了if限制条件

## 请求发出去了,后台收不到,可能是请求头格式错误

```js
//支持formData其他提交形式
service.defaults.transformRequest = [function (data, headers) {
  if (headers['Content-Type'] === 'application/json') {
    // 把一个参数对象格式化为一个字符串
    return JSON.stringify(data)
  } else if (headers['Content-Type'] === 'multipart/form-data;charset=UTF-8') {
    return data
  } else {
    /* headers['Content-Type'] = 'application/json' */
    headers['Content-Type'] = 'application/x-www-form-urlencoded'
  }
  return qs.stringify(data)

}]
```

## 当前页面查不到元素,可以去全局搜索,查找所有文件

## 图片下载有两种,一种是文件流,没试过,最多的就是路径拼接,

```js
  //获取文件流 通过url+id
  TableDemoDownLoadByUrlID: function (urlString) {
    return window.location.href = `${baseIP}${urlString}&token=${getToken()}`;
  },
  //获取url直接下载
  completeImageUrl: function (urlString) {
    console.log('urlString',urlString)
    var path = urlString.replace("getFileStream", "getAnyFileStream");
    console.log(path);
    return window.location.href = `${path}?token=${getToken()}`;
  },
```

## 上传的图片无法保存进数据库,一是上传不能传参,二是未回显请求回的数据

## el-date-picker 无法修改时间

```vue
<el-date-picker
   v-model="form.approvalDate"
   style="width: 100%"
   format="yyyy-MM-dd"
   value-format="yyyy-MM-dd"
   type="date"
   placeholder="选择日期"
></el-date-picker>
如果form.approvalDate的数据的格式是loanTermTime: "2021-11-16 00:00:00",数据无法修改,去掉限制即可
<el-date-picker
   v-model="form.approvalDate"
   style="width: 100%"
   type="date"
   placeholder="选择日期"
></el-date-picker>

value-format="yyyy-MM-dd"的作用是限制v-model的值,可手动修为所需时间格式,日期格式化上传数据,下附使用方法

import { parseTime } from '@/utils/index.js'
parseTime(formData.loanTime,'{y}-{m}-{d}');
```

```js
// 日期格式化
export function parseTime(time, pattern) {
    if (arguments.length === 0 || !time) {
        return null;
    }
    const format = pattern || "{y}-{m}-{d} {h}:{i}:{s}";
    let date;
    if (typeof time === "object") {
        date = time;
    } else {
        if (typeof time === "string" && /^[0-9]+$/.test(time)) {
            time = parseInt(time);
        } else if (typeof time === "string") {
            time = time.replace(new RegExp(/-/gm), "/");
        }
        if (typeof time === "number" && time.toString().length === 10) {
            time = time * 1000;
        }
        date = new Date(time);
    }
    const formatObj = {
        y: date.getFullYear(),
        m: date.getMonth() + 1,
        d: date.getDate(),
        h: date.getHours(),
        i: date.getMinutes(),
        s: date.getSeconds(),
        a: date.getDay()
    };
    const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {
        let value = formatObj[key];
        // Note: getDay() returns 0 on Sunday
        if (key === "a") {
            return ["日", "一", "二", "三", "四", "五", "六"][value];
        }
        if (result.length > 0 && value < 10) {
            value = "0" + value;
        }
        return value || 0;
    });
    return time_str;
}

```

## 上传身份证 父子组件数据无法同步,异步时

```vue
<UploadFile
   v-if="isFilesListData"
   @changeFilesIDs="getFilesIDs"
   :sendFilesIDsDatas="filesList"
   :sentImages="true"
   :idImages="false"
   :limit-file-types="['image/png', 'image/jpeg']"
>
    <template v-slot:button-content>上传图片</template>
    <template v-slot:tip>请选择图片上传</template>
</UploadFile>
//在父组件中使用v-if,
//一开始时,默认v-if为false,请求完后修改为true
//isFilesListData:false,
//this.isFilesListData=true;
```

## 当后端需要参数要定制

```js
//判断rule3items对象是否存在id
if (Reflect.has(rule3items, 'id')) {
	Reflect.deleteProperty(rule3items, 'id');
}
/**
* 浅拷贝, 将origin属性对应的值转移到target
* @param target 目标
* @param origin 原
* @param defaultVal
* @param props 需要copy的属性
*/
copyProperties(target, origin, ...props) {
 for (const prop of props) {
 	target[prop] = origin[prop]
  }
}
const fieldList = Object.keys(this.form);
this.PMethods.copyProperties(this.form, val, ...fieldList);
```

## 数组转字符串

```js
let idString = this.PMethods.ArrayToString(this.tableRowIds);
ArrayToString: function (arr) {
    if (!Array.isArray(arr) || arr.length < 1) return ""
    return '["' + arr.join('","') + '"]'
},
```



# Object.keys 可浅拷贝

`Object.keys()` 方法会返回一个由一个给定对象的自身可枚举属性组成的数组，数组中属性名的排列顺序和正常循环遍历该对象时返回的顺序一致 。

## [语法](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#syntax)

```
Object.keys(obj)
```

### [参数](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#parameters)

- obj

  要返回其枚举自身属性的对象。

### [返回值](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#返回值)

一个表示给定对象的所有可枚举属性的字符串数组。

## [描述](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#description)

`Object.keys` 返回一个所有元素为字符串的数组，其元素来自于从给定的`object`上面可直接枚举的属性。这些属性的顺序与手动遍历该对象属性时的一致。

![](C:\Users\sushengren\AppData\Roaming\Typora\typora-user-images\image-20220519114637840.png)

## [例子](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#例子)

```js
// simple array
var arr = ['a', 'b', 'c'];
console.log(Object.keys(arr)); // console: ['0', '1', '2']

// array like object
var obj = { 0: 'a', 1: 'b', 2: 'c' };
console.log(Object.keys(obj)); // console: ['0', '1', '2']

// array like object with random key ordering
var anObj = { 100: 'a', 2: 'b', 7: 'c' };
console.log(Object.keys(anObj)); // console: ['2', '7', '100']

// getFoo is a property which isn't enumerable
var myObj = Object.create({}, {
  getFoo: {
    value: function () { return this.foo; }
  }
});
myObj.foo = 1;
console.log(Object.keys(myObj)); // console: ['foo']
```

## 配合浅拷贝

```js
/**
* 浅拷贝, 将origin属性对应的值转移到target
* @param target 目标
* @param origin 原
* @param defaultVal
* @param props 需要copy的属性
*/
copyProperties(target, origin, ...props) {
    for (const prop of props) {
        target[prop] = origin[prop]
    }
}
var origin = { a: 'a', b: 'b', c: 'c' };
var target = { a: '', b: '' }
let props = Object.keys(target)
//可以快速
copyProperties(target, origin, ...props)
```

# 数组常见使用

## `find  ` 返回符合条件的第一个元素

```js
const array1 = [5, 12, 8, 130, 44];
//返回符合条件的元素
const found = array1.find(element => element > 10);
```

## `findIndex()` 返回符合条件的下标

```js
const array1 = [5, 12, 8, 130, 44];
//返回符合条件的下标
const isLargeNumber = array1.findIndex((element) => element > 13);
```

## `filter()` 过滤, 返回符合条件的新数组。

```js
const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];
创建一个新数组, 返回符合条件的所有元素。
const result = words.filter(word => word.length > 6);

利用 filter 去除数组空值：
let  newrr = ['','',1,2,3]
var newArr = newrr.filter(item => item)
console.log(newArr)
//[1,2,3]
```

## `join()` 返回拼接字符串

```js
const elements = ['Fire', 'Air','', 'Water'];
//默认逗号拼接
console.log(elements.join());
// expected output: "Fire,Air,,Water"
console.log(elements.join(''));
// expected output: "FireAirWater"
console.log(elements.join('-'));
// expected output: "Fire-Air--Water"
```

## `reduce`  累加

```js
const array1 = [1, 2, 3, 4];
const reducer = array1.reduce((previousValue, currentValue) => previousValue + currentValue);
// expected output: reducer = 10
```

## `splice()`  可删除,替换或添加新的元素来修改数组,会改变原数组

```js
const months = ['Jan', 'March', 'April', 'June'];
//第一位参数开始下标
//第二位参数大于零,替换;0,插入
//第三位参数替换;插入;添加的元素,不加删除

//插入
months.splice(1, 0, 'Feb');
// expected output: Array ["Jan", "Feb", "March", "April", "June"]
//替换
months.splice(4, 1, 'May');
// expected output: Array ["Jan", "Feb", "March", "April", "May"]
//添加
months.splice(4, 0, 'June');
// expected output: Array ["Jan", "Feb", "March", "April", "May", "June"]
//删除
months.splice(5, 1);
// expected output: Array ["Jan", "Feb", "March", "April", "May"]
```

## `forEach()` 或`map`方法对数组的每个元素执行一次给定的函数。循环

```js
const array1 = ['a', 'b', 'c'];
//arr.forEach(items , index , array)
array1.forEach(element => console.log(element));
```

## `reverse()` 位置颠倒，该方法会改变原数组。

```js
const array1 = ['one', 'two', 'three'];
console.log('array1:', array1);
// expected output: "array1:" Array ["one", "two", "three"]
const reversed = array1.reverse();
console.log('reversed:', reversed);
// expected output: "reversed:" Array ["three", "two", "one"]
```

## `sort()` 排序，默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列时构建的

```js
var numbers = [4, 2, 5, 1, 3];
numbers.sort((a, b) => a - b);
console.log(numbers);
// [1, 2, 3, 4, 5]

//对象可以按照某个属性排序：
var items = [
  { name: 'Edward', value: 21 },
  { name: 'Sharpe', value: 37 },
  { name: 'And', value: 45 },
  { name: 'The', value: -12 },
  { name: 'Magnetic' },
  { name: 'Zeros', value: 37 }
];

// sort by value
items.sort(function (a, b) {
  return (a.value - b.value)
});
```

# 互助可取之处

## 项目中要求可以拖拽element UI table 的表格

### 使用 sortablejs 插件

```vue
npm install sortablejs --save
```

### 引入

```js
import Sortable from "sortablejs";
```

### 代码

```vue
<template>
  <div class="table">
    <el-table
      ref="dragTable"
      :data="tableData"
      border
      :row-class-name="tableRowClassName"
    >
      <el-table-column prop="date" label="日期"></el-table-column>
      <el-table-column prop="name" label="姓名"></el-table-column>
      <el-table-column prop="address" label="地址"></el-table-column>
      <el-table-column label="操作">
        <template>
          <el-button class="move" type="text" size="small">拖 拽</el-button>
        </template>
      </el-table-column>
    </el-table>
  </div>
</template>
<script>
import Sortable from "sortablejs";
export default {
  data() {
    return {
      tableData: [
        {
          id: "1",
          name: "text_1",
          date: "1111-11-11",
          address: "测试_1",
        },
        {
          id: "2",
          name: "text_2_不可拖拽",
          date: "2222-22-22",
          address: "测试_2_不可拖拽",
          disabled: true,
        },
        {
          id: "3",
          name: "text_3",
          date: "3333-33-33",
          address: "测试_3",
        },
        {
          id: "4",
          name: "text_4",
          date: "4444-44-44",
          address: "测试_4",
        },
        {
          id: "5",
          name: "text_5",
          date: "5555-55-55",
          address: "测试_5",
        },
      ],
    };
  },
  methods: {
    // 创建sortable实例
    initSortable() {
      // 获取表格row的父节点
      const ele = this.$refs.dragTable.$el.querySelector(
        ".el-table__body > tbody"
      );
      // 创建拖拽实例
      let dragTable = Sortable.create(ele, {
        animation: 150, //动画
        disabled: false, // 拖拽不可用? false 启用（刚刚渲染表格的时候起作用，后面不起作用）
        handle: ".move", //指定拖拽目标，点击此目标才可拖拽元素(此例中设置操作按钮拖拽)
        filter: ".disabled", //指定不可拖动的类名（el-table中可通过row-class-name设置行的class）
        dragClass: "dragClass", //设置拖拽样式类名
        ghostClass: "ghostClass", //设置拖拽停靠样式类名
        chosenClass: "chosenClass", //设置选中样式类名
        // 开始拖动事件
        onStart: () => {
          console.log("开始拖动");
        },
        // 结束拖动事件
        onEnd: ({ newIndex, oldIndex }) => {
          console.log(
            "结束拖动",
            `拖动前索引${oldIndex}---拖动后索引${newIndex}`
          );
            const currRow = _this.tableData.splice(oldIndex, 1)[0];
          this.tableData.splice(newIndex, 0, currRow);
        },
      });
    },
    // 设置表格row的class
    tableRowClassName({ row }) {
      if (row.disabled) {
        return "disabled";
      }
      return "";
    },
  },
  mounted() {
    this.initSortable();
  },
};
</script>
//注意如果加上scoped 样式就可能不起作用
<style lang='scss'>
// 拖拽
.dragClass {
  background: rgba($color: #41c21a, $alpha: 0.5) !important;
}
// 停靠
.ghostClass {
  background: rgba($color: #6cacf5, $alpha: 0.5) !important;
}
// 选择
.chosenClass:hover > td {
  background: rgba($color: #f56c6c, $alpha: 0.5) !important;
}
</style>
```

## 默认没有删除按钮,当数据长度大于一时显示

```vue
<div v-for="(item,index) in formData.centreList" :key="index" class="fl w100 clearfix">
    <div class="fl w50">
    </div>
    <div :class="['fl',formData.centreList.length>1?'w40':'w50']">
    </div>
    <div v-if="formData.centreList.length>1" class="fl w10 text_center">
        <el-form-item label-width="0">
            <el-button @click="deleteStore(index)" type="danger" icon="el-icon-delete" circle></el-button>
        </el-form-item>
    </div>
</div>
<style lang="scss" scoped>
.fl {
    float: left;
}
.w50 {
    width: 50%
}
.clearfix {
    &:after {
        visibility: hidden;
        display: block;
        font-size: 0;
        content: " ";
        clear: both;
        height: 0;
    }
}
</style>
```

## form表单组件化操作

```vue
<template>
<el-form size="small" :disabled="isDisabled" ref="form" :model="formData" label-width="100px">
</el-form>
</template>
<script>

export default {
  props: {
    sentFormData: {
      type: Object
    },
    isDisabled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      formData: {
        proposerNameId: "",
        centreList: [
          {
            warehouseId: "",
            counterIdList: []
          }
        ]
      },
      oldFormData: {
        proposerNameId: "",

        centreList: [
          {
            warehouseId: "",
            counterIdList: []
          }
        ]
      },
    };
  },
  created() {
      //请求下拉框数据
    this.fatchData();
  },
  mounted() {
      //回显
    var data = this.sentFormData;
    if (data) {
      if (Object.keys(data).length == 0) {
        this.formData = this.oldFormData;
      } else {
        this.formData.proposerNameId = data.proposerNameId;
        if (data.associateName) {
          this.formData.associateName = data.associateName.adminId;
        }

        this.formData.taskName = data.taskName;
        this.formData.checkTime = data.checkTime;
        this.formData.checkPurposeId = data.checkPurposeId;
        this.formData.associateNameId = data.associateNameId;
        let centreList = [];
        if (data.centreLists) {
          data.centreLists.map((item, index) => {
            getObjCodeById(item.warehouseId).then(response => {
              this.$set(this.collSelect, index, response.data);
            });
            centreList.push({
              warehouseId: item.warehouseId,
              counterIdList: item.counterIdList
            });
          });
        }
        this.formData.centreList = centreList;
      }
    }
  },
  watch: {
    formData: {
      handler(data) {
        var newData = JSON.parse(JSON.stringify(data));
        this.$emit("getFormData", newData);
      },
      deep: true
    }
  },
  methods: {
    //父传子 保存时验证方法
    getRulesData() {
      let bl = false;
      this.$refs.form.validate(valid => {
        bl = valid;
      });
      return {
        msg: bl ? "表单验证通过" : "请检查输入的表单是否有误",
        data: bl
      };
    },
  },
},
<script>
```

## 头部搜索

```vue
<template>
	<el-collapse-transition v-if="!Boolean(item.hidden)">
        <li v-for="(v, i) in item.items" :key="v.id">
              <el-button
                v-if="item.dataType == 'regdate' && v.active"
                class="isRegdateActive"
                @click="
                  buttonAction(v.id, index,item),
                    item.dataType == 'regdate' && dateFormat(v.fieldName, index)
                "
                size="small"
              >
                {{ v.name }}
                  <!--按钮旁边加数字  -->
                <span
                  style="padding-left: 5px"
                  v-else-if="
                    sentNumebr &&
                    index < sentNumebr.length &&
                    sentNumebr[index][i] &&
                    sentNumebr[index][i] >= 10000
                  "
                  :title="v.num"
                  >( {{ sentNumebr[index][i] / 10000 +"w"}} )</span
                >
                  <!--按钮右上方激活打钩  -->
                <div
                  :style="{
                    height:
                      item.dataType == 'regdate' && v.active ? '16px' : '0',
                    width:
                      item.dataType == 'regdate' && v.active ? '16px' : '0',
                    borderTop:
                      item.dataType == 'regdate' && v.active
                        ? '16px solid #39ca74'
                        : '0 solid #39ca74',
                    borderLeft:
                      item.dataType == 'regdate' && v.active
                        ? '16px solid rgba(0, 0, 0, 0)'
                        : '0 solid rgba(0, 0, 0, 0)',
                  }"
                  class="select_data"
                ></div>
                <div
                  v-if="item.dataType == 'regdate' && v.active"
                  class="el-icon-check check"
                ></div>
              </el-button>
         </li>
        <!--箭头翻转  -->
        <i
            v-show="item.iconShow"
            class="el-icon-arrow-down icon_arrow_style"
            style="float: right"
            :class="{
              icon_arrow__ami_default: item.iconDef,
              icon_arrow__ami_rotate: !item.iconDef,
            }"
            @click="optionMoreCondition(index)"
          ></i>
    </el-collapse-transition>
</template>
<style lang="scss" scoped>
.isRegdateActive {
  width: 60px;
  color: #39ca74;
  border: 1px solid #39ca74;
  background: #ecf8f0;
  position: relative;
  padding: 0;
  line-height: 32px;
  margin-left: 12px;
}

.check {
  text-align: center;
  line-height: 1.3em;
  position: absolute;
  top: 4px;
  right: 0px;
  font-size: 1px;
  font-weight: 500;
  color: #fff;
  z-index: 1;
}
.icon_arrow_style {
  position: absolute;
  top: 50%;
  right: 10px;
  margin-top: -8px;
  cursor: pointer;
}
</style>
```

## 百度地图(＜baidu-map＞)

### 安装

```js
 cnpm i vue-baidu-map --save
```

### 引入

```js
/* 百度地图 Start*/
import BaiduMap from 'vue-baidu-map'
Vue.use(BaiduMap, {
    ak: 'bc4d824e9c0fef9cc375e45deace61d9' //官方提供的ak秘钥
})
/* 百度地图 End*/
```

### 使用

```vue
<template>
  <baidu-map
    class="map"
    :center="arrObj[0].center"
    :zoom="zoom"
    :scroll-wheel-zoom="true"
    style="height: 100%; width: 100%"
    @ready="handler"
    @click="getClickInfo"
  >
    <bm-marker
      v-for="(obj, index) in arrObj"
      :key="index"
      :position="obj.center"
      :dragging="true"
      animation="BMAP_ANIMATION_BOUNCE"
    >
      <bm-label
        :content="obj.title"
        :labelStyle="{ color: 'red', fontSize: '16px' }"
        :offset="obj.box"
      />

      <!-- 必须给容器指高度，不然地图将显示在一个高度为0的容器中，看不到 -->
      <bm-navigation anchor="BMAP_ANCHOR_TOP_RIGHT"></bm-navigation>
      <bm-geolocation
        anchor="BMAP_ANCHOR_BOTTOM_RIGHT"
        :showAddressBar="true"
        :autoLocation="true"
      ></bm-geolocation>
      <bm-city-list anchor="BMAP_ANCHOR_TOP_LEFT"></bm-city-list>

      <!-- 因为我采用的是全局注册，所以不用再在该页面上注册components -->
    </bm-marker>
  </baidu-map>
</template>


<script>
export default {
  name: "MapBaidu",
  props: {
    sentData: {
      type: Array,
      default: function () {
        return [
           {
          title: "广州海事博物馆",
          center: { lng: 113.508252, lat: 23.084856 },
          box: { width: -40, height: -30 },
          zoom: 20,
        },
        ];
      },
    },
  },
  data() {
    return {
      center: { lng: 0, lat: 0 }, //经纬度
      zoom: 20000, //地图展示级别
      arrObj: [],
    };
  },
  watch: {
    sentData: {
      handler(newVal) {
        this.arrObj=newVal
        this.$set(this.center, "lng", newVal[0].center);
      },
      deep: true,
      immediate: true,
    },
  },
  methods: {
    handler({ BMap, map }) {
      /*  console.log(BMap, map); */
     
      this.zoom = this.zoom;
    },
    getClickInfo(e) {
      /*   console.log(e.point.lng);
      console.log(e.point.lat);
      this.center.lng = e.point.lng;
      this.center.lat = e.point.lat; */
    },
  },
};
</script>

```

## 二次确认,$confirm

```js
//收藏藏品
setCollect() {
    this.$confirm("是否收藏该藏品?", "提示", {
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        type: "warning",
    })
        .then(() => {
        setCollectById(this.getSelectIDData).then((res) => {
            this.successDailogMessage("收藏成功");
        });
    })
        .catch(() => {
        this.$message({
            type: "info",
            message: "已取消",
        });
    });
},
```

## 分片上传、秒传及断点续传

```js
//安装插件
npm install vue-simple-uploader --save
m install --save spark-md5
//引用
import uploader from 'vue-simple-uploader'
Vue.use(uploader)

import SparkMd5 from "spark-md5";
Vue.prototype.SparkMd5 = SparkMd5;

//源码使用
src\components\UCondition\resourcesUpload.vue
```

## Vue----右键弹出菜单(vue-contextmenu)

```js
//安装：
npm install vue-contextmenu --save
//引入：
import VueContextMenu from 'vue-contextmenu'
Vue.use(VueContextMenu)

//使用：
```

```vue
<template>
<div id="app" @contextmenu="showMenu"
    style="width: 100px;height: 100px;margin-top: 20px;background: red;">
    <vue-context-menu :contextMenuData="contextMenuData"
        @home="home"
        @deletedata="deletedata"></vue-context-menu>
</div>
</template>
<script>
export default {
  name: 'app',
  data () {
    return {
    // 菜单数据
       contextMenuData: {
         menuName: 'demo',
         //菜单显示的位置
         axis: {
           x: null,
           y: null
         },
         //菜单选项
         menulists: [{
           fnHandler: 'home', //绑定事件
           icoName: 'fa fa-home fa-fw', //icon图标
           btnName: '回到主页' //菜单名称
         }, {
             fnHandler: 'deletedata',
             icoName: 'fa fa-minus-square-o  fa-fw',
             btnName: '删除布局'
         }]
       }
  },
  methods: {
    showMenu () {
        event.preventDefault()
        var x = event.clientX
        var y = event.clientY
        // Get the current location
      this.contextMenuData.axis = {
        x, y
      }
    },
    homed () {
      alert("主页")
    },
    deletedata () {
      console.log('delete!')
    }
  }
}
</script>
```

## [element-ui 为内数据 添加数字千位分割符10,000](https://www.cnblogs.com/taoshaoji/p/elementUI_.html)

## [vue图片点击放大预览v-viewer](https://www.jianshu.com/p/84042c7b1b5b)

## [基于Vue实现可以拖拽的树形表格](https://www.cnblogs.com/bfgis/p/9805928.html)

## [Vue图片放大镜插件](https://blog.csdn.net/qq_40631679/article/details/107272569)

## 使用vuetify UI框架

```js
cnpm install vuetify

import Vuetify from 'vuetify' // 使用vuetify UI框架
import 'vuetify/dist/vuetify.min.css' // 导入 vuetify样式
import './assets/styles/index.scss' // 导入 vuetify样式
Vue.use(Vuetify) // 使用 vuetify
export default new Vuetify({}) // 导出vuetify对象 不然会报错

new Vue({
  router,
  store,
  vuetify: new Vuetify(),
  render: h => h(App)
}).$mount('#app')
```

## 使用swiper框架

```js
cnpm install swiper@3.4.2 --save-dev

import Swiper from "swiper";
import 'swiper/dist/css/swiper.css';
```

# 手机端适配

## 起手是使用 响应式栅格`xs、sm、md、lg 和 xl`

```vue
<script>
methods: {
    onResize() {
		//存储数据到vuex
        this.$store.dispatch({
            type: "changeBrowserStyle",
            data: window.innerWidth,
        });
    },
},
beforeMount() {
	//监听屏幕变化
    this.onResize();
    window.addEventListener("resize", this.onResize, { passive: true });
},
destroyed() {
	window.removeEventListener("resize", this.onResize);
},
    
//vuex
{
  state: {
    mobile: false,
  },
  getters: {
    isMobile: state => {
      return state.mobile
  	},
  },
  mutations: {
    change_BrowserStyle(state, obj) {

      // 变更状态
      if (obj.data < 600) {
        state.mobile = true;
      }
      if (obj.data >= 600 && obj.data < 960) {
        state.mobile = true;
      }
      if (obj.data >= 960 && obj.data < 1264) {
        state.mobile = false;
      }
      if (obj.data >= 1264 && obj.data < 1904) {
        state.mobile = false;
      }
      if (obj.data >= 1904) {
        state.mobile = false;
      }
    },
  },
  actions: {
    changeBrowserStyle({ commit }, obj) {
      commit('change_BrowserStyle', obj)
    },
  }
}
</script>
```

# 常见问题

## 为什么选择Vue？

Vue的三大特性：

　　易用：是中国人写的,有好的中文文档,容易上手,市面上的招聘多

　　灵活：可以在库和框架之间灵活切换，这个也是Vue 的渐进式而言

　　高效：20KB运行大小；超快的虚拟dom

## vue解决了什么

然后开始学习ECMAScript6，Webpack，NPM以及Vue-Cli的基本用法，最好对Node.js也要有所了解。

## vue生命周期

beforeCreate(创建前):可以在这加个loading事件，在加载实例时触发

created(创建后):请求数据,获取数据,数据的回显

beforeMount(载入前) :

mounted(载入后) :cavas

beforeUpdate(更新前) 

updated（更新后) 

beforeDestroy(销毁前) :自定义的一些方法,释放内存

destroyed（销毁后)

this.$*nextTick*():获取输入框的焦点

## v-if跟v-show的区别

## vue组件通信几种方式

content,introduce,stayCondition,mainBody,activityContent,details,overViewContent,questContent
