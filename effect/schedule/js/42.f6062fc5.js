(self["webpackChunkschedule"]=self["webpackChunkschedule"]||[]).push([[42],{6154:function(e,t,o){var a,l,n;(function(o,s){l=[],a=s,n="function"===typeof a?a.apply(t,l):a,void 0===n||(e.exports=n)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,o){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){r(a.response,t,o)},a.onerror=function(){console.error("could not download file")},a.send()}function l(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o.g&&o.g.global===o.g?o.g:void 0,i=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,o){var i=s.URL||s.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin===location.origin?n(r):l(r.href)?a(e,t,o):n(r,r.target="_blank")):(r.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(r.href)}),4e4),setTimeout((function(){n(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,s){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),o);else if(l(e))a(e,o,s);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){n(i)}))}}:function(e,t,o,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,o);var n="application/octet-stream"===e.type,r=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&r||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},u.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,g=d.createObjectURL(e);l?l.location=g:location.href=g,l=null,setTimeout((function(){d.revokeObjectURL(g)}),4e4)}});s.saveAs=r.saveAs=r,e.exports=r}))},4042:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return j}});var a=o(8046),l=(o(1758),o(6467),o(7150)),n=(o(6809),o(3816)),s=(o(2250),o(7658),o(3396)),i=o(4870),r=o(7139),c=o(9242),u=o(2748),d=o(2483),g=o(6154),p=o.n(g),m=o(6629);const f=e=>((0,s.dD)("data-v-63baf804"),e=e(),(0,s.Cn)(),e),v={class:"histry"},w=f((()=>(0,s._)("div",{class:"histoptit"}," 成就账单 ",-1))),h={class:"fixpick"},S={key:0,class:"nomore"},y={key:1,class:"gridbox"},k={class:"griditembox"},D={class:"testtit"},U={class:"testtit color1"},b={class:"testtit color2"},x={key:0,class:"lifebeginswith"},F={class:"head"},T=f((()=>(0,s._)("div",{class:"title"},"走马观花",-1))),M=["onClick"],C={class:"areaboxs"},A={class:"box many"},O=f((()=>(0,s._)("input",{id:"file",class:"fixup",type:"file",accept:".json"},null,-1)));var _={__name:"gameHistry",setup(e){const t=(0,d.tv)();let o=JSON.stringify({yearHistry:[]}),g=localStorage.getItem("gamelist")||o,f=(0,i.iH)(g);f.value&&(f.value=JSON.parse(f.value));let _=(0,i.qj)({list:[],data:[],list4000:[],colors:[],satrtgame:"1995-10-1",motto:"许多人的一生，写于纸上也不过寥寥几句话，而人的一生大概会有4000周，及时行乐。\n\n\n人是由他们的经历和生活环境塑造的。如果不发生一些疯狂的事情，就不可能迅速改变一个人。\n                            --《从最难塑造的开始》",showMark:!1,markmotto:()=>{f.value.motto=_.motto,localStorage.setItem("gamelist",JSON.stringify(f.value))},getdata:()=>{let e=[...f.value.yearHistry].reverse();if(_.data){let t=!0;_.list.length=0,e.map((e=>{t=_.isTimeInRange(e.day),t&&_.list.push(e)}))}else _.list=e},isTimeInRange:e=>{let t="",o="";const a=new Date(e);_.data&&(t=_.data[0],o=_.data[1]);const l=new Date(t),n=new Date(o);return a>=l&&a<=n},splitArray:(e,t,o)=>{let a=["#FFC107","#FF9800","#FF5722","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FF5722"],l=o,n=[];for(let s=0;s<t;s++){let t=s*l,o=t+l,i=e.slice(t,o),r=a[s];n.push({data:i,color:r})}return n},getWeeksSince(e){const t=6048e5,o=new Date(e),a=new Date,l=a.getTime()-o.getTime();console.log("diff / oneWeek",Math.floor(l/t));const n=Math.ceil(l/t);return n},backWeeksSince(e,t){const o=6048e5,a=864e5,l=new Date(e);let n=l.getDay(),s=0;n&&(s=7-n);let i=l.getTime()+s*a;const r=i+a+(t-1)*o;let c=_.getDateTime(r);const u=i+t*o;let d=_.getDateTime(u);return[c,d]},getmyweek(e){console.log("item",e.daylimit),_.data=[...e.daylimit],_.closeMark(),_.getdata()},getDateTime(e){let t=Date.parse(new Date(e)),o=new Date(t);o.setDate(o.getDate());var a=o.getFullYear(),l=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,n=o.getDate()<10?"0"+o.getDate():o.getDate();let s=a+"-"+l+"-"+n;return s},closeMark(){_.showMark=!1},openMark(){_.showMark=!0}});_.list=[...f.value.yearHistry].reverse(),_.satrtgame=f.value.satrtgame,_.motto=f.value.motto,_.colors=["#FFC107","#FF9800","#FF5722","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FF5722"];const B=()=>{t.push("/")},E=_.getWeeksSince(_.satrtgame);console.log("重新计算剩余周",E);const j=new Array(4e3).fill(0).map(((e,t)=>{let o=t+1;const a=_.list.findIndex((e=>e.passday==t+1));let l=555;-1!==a&&(l=_.list[a].weekcounts);let n=`人生的第${o}周:${l}分`,s="",i=_.backWeeksSince(_.satrtgame,o);o>E&&(n=`人生的第${o}周:  嘿，努力过好当下，未来可期！！！`,s="#ebedf0");let r={value:o,content:n,color:s,daylimit:i};return r}));_.list4000=_.splitArray(j,4,1024);let J=(0,i.qj)({newtime:["12:00","13:02","12:58","12:08","13:00"],changelist(){let e="10:00",t="18:00",o=1855,a=o/(new Date(`2022-03-09 ${t}`).getTime()-new Date(`2022-03-09 ${e}`).getTime()),l=J.newtime.map(((t,o)=>{let l={index:o,time:t,path:0},n=Math.ceil((new Date(`2022-03-09 ${t}`).getTime()-new Date(`2022-03-09 ${e}`).getTime())*a);return l.path=n,console.log("path",n),l}));console.log("orglist",l);let n=l.sort((function(e,t){return e.path-t.path})),s=[{index:2,time:"11:58",path:457},{index:0,time:"12:00",path:464},{index:1,time:"12:50",path:657},{index:4,time:"13:00",path:696},{index:3,time:"13:16",path:758}];function i(e){for(let t=0;t<e.length-1;t++){let o=e[t],a=e[t+1].path-o.path;a<50&&(o.time<"12:00"?(o.path=o.path-50,console.log("1",o)):"12:00"==o.time?(e[t+1].path=o.path+50,console.log("3",o)):o.time>="12:00"&&o.time<="12:30"?(e[t+1].path=o.path+50,console.log("2",o)):o.time>"12:30"&&o.time<"13:00"?(o.path=o.path-50,console.log("3",o)):(e[t+1].path=o.path+50,console.log("4",o)))}}i([...n]),console.log("filteredArr",s),console.log("uplist",n)},exportJSON(){const e=JSON.stringify(f.value),t=new Blob([e],{type:""});p().saveAs(t,"mylife.json")},deleteJSON(){localStorage.removeItem("gamelist"),location.reload()},importJSON(){const e=document.getElementById("file").files[0];if(e){console.log("导入成功");const t=new FileReader;t.readAsText(e),t.onload=function(){f.value=JSON.parse(this.result),_.getdata(),localStorage.setItem("gamelist",JSON.stringify(f.value)),location.reload(),console.log(f.value)}}else console.log("导入失败"),(0,m.z8)({type:"info",message:"导入失败: 请上传文件！！！"})}});J.changelist();const R=["11:58","12:03","11:57","13:01","12:58"];function N(e){const t=e.filter((e=>e<"12:00")).reduce(((e,t)=>Math.abs(new Date("1970-01-01T12:00:00")-new Date("1970-01-01T"+t))<Math.abs(new Date("1970-01-01T12:00:00")-new Date("1970-01-01T"+e))?t:e)),o=e.filter((e=>e>"12:00")).reduce(((e,t)=>Math.abs(new Date("1970-01-01T12:00:00")-new Date("1970-01-01T"+t))<Math.abs(new Date("1970-01-01T12:00:00")-new Date("1970-01-01T"+e))?t:e));console.log("beforeTwelve",t,"afterTwelve",o)}return N(R),(0,s.bv)((()=>{})),(e,t)=>{const o=n.iJ,d=l.mi,g=a.Q0;return(0,s.wg)(),(0,s.iD)("div",v,[w,(0,s._)("div",h,[(0,s.Wm)(o,{modelValue:(0,i.SU)(_).data,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.SU)(_).data=e),type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD",onChange:(0,i.SU)(_).getdata},null,8,["modelValue","onChange"])]),(0,i.SU)(_).list.length<=0?((0,s.wg)(),(0,s.iD)("div",S," 暂无成就,快去铸造辉煌 ")):((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(_).list,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"test",key:o},[(0,s._)("div",D,(0,r.zw)(e.day),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.todaylist,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"testlist",key:t},(0,r.zw)(e.name)+" +"+(0,r.zw)(e.count),1)))),128)),(0,s._)("div",U,(0,r.zw)(e.daycounts?`${e.weekly}得分：${e.daycounts}`:""),1),(0,s._)("div",b,(0,r.zw)(e.weekcounts?`今年第${e.secondday}周得分：${e.weekcounts}`:""),1),e.passday?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"testtit color1 point",onClick:t[1]||(t[1]=(...e)=>(0,i.SU)(_).openMark&&(0,i.SU)(_).openMark(...e))},(0,r.zw)(`人生已过${e.passday}周,剩余不足${4e3-e.passday}周，及时行乐`),1)):(0,s.kq)("",!0)])))),128))])])),((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,i.SU)(_).showMark?((0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("div",F,[T,(0,s.Wm)(d,{class:"close",icon:(0,i.SU)(u.x8P),circle:"",onClick:(0,i.SU)(_).closeMark},null,8,["icon","onClick"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(_).list4000,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"lefebox",key:e.color},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.data,(e=>((0,s.wg)(),(0,s.j4)(g,{content:e.content,effect:"light",key:e.value},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"liftitem point",style:(0,r.j5)({background:e.color?e.color:e.value<104?(0,i.SU)(_).colors[0]:e.value<208?(0,i.SU)(_).colors[1]:e.value<312?(0,i.SU)(_).colors[2]:e.value<416?(0,i.SU)(_).colors[3]:e.value<520?(0,i.SU)(_).colors[4]:e.value<624?(0,i.SU)(_).colors[5]:e.value<728?(0,i.SU)(_).colors[6]:e.value<832?(0,i.SU)(_).colors[7]:e.value<936?(0,i.SU)(_).colors[8]:e.value<1040?(0,i.SU)(_).colors[9]:e.value<1144?(0,i.SU)(_).colors[10]:e.value<1248?(0,i.SU)(_).colors[11]:e.value<1352?(0,i.SU)(_).colors[12]:e.value<1456?(0,i.SU)(_).colors[13]:e.value<1560?(0,i.SU)(_).colors[14]:e.value<1664?(0,i.SU)(_).colors[15]:e.value<1768?(0,i.SU)(_).colors[16]:e.value<1872?(0,i.SU)(_).colors[17]:e.value<1976?(0,i.SU)(_).colors[18]:(0,i.SU)(_).colors[19]}),onClick:t=>(0,i.SU)(_).getmyweek(e)},null,12,M)])),_:2},1032,["content"])))),128))])))),128)),(0,s._)("div",C,[(0,s._)("div",A,[(0,s.wy)((0,s._)("textarea",{type:"text",onBlur:t[2]||(t[2]=(...e)=>(0,i.SU)(_).markmotto&&(0,i.SU)(_).markmotto(...e)),class:"input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,i.SU)(_).motto=e)},null,544),[[c.nr,(0,i.SU)(_).motto]])])])])):(0,s.kq)("",!0)],1024)),O,(0,s._)("div",{class:"fixup import",onClick:t[4]||(t[4]=(...e)=>(0,i.SU)(J).importJSON&&(0,i.SU)(J).importJSON(...e))}," Import "),(0,s._)("div",{class:"fixup delete",onClick:t[5]||(t[5]=(...e)=>(0,i.SU)(J).deleteJSON&&(0,i.SU)(J).deleteJSON(...e))},"Delete"),(0,s._)("div",{class:"fixup export",onClick:t[6]||(t[6]=(...e)=>(0,i.SU)(J).exportJSON&&(0,i.SU)(J).exportJSON(...e))},"Export"),(0,s._)("div",{class:"fixup goback",onClick:B},"GoBack")])}}},B=o(89);const E=(0,B.Z)(_,[["__scopeId","data-v-63baf804"]]);var j=E}}]);
//# sourceMappingURL=42.f6062fc5.js.map